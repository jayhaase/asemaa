<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ title }}</title>
        <link rel="stylesheet" href="{{ '/css/tailwind.css' | url }}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Nunito:wght@400;700&family=Cinzel:wght@400;700&display=swap"
            rel="stylesheet">
        <meta name="description" content="Learn about Ojibwe Asemaa and its historical trading routes across Turtle Island">
        <meta property="og:title" content="{{ title }}">
        <meta property="og:description" content="Learn about Ojibwe Asemaa and its historical trading routes across Turtle Island">
        <meta property="og:type" content="website">
        <!-- Add your site URL here -->
        <meta property="og:url" content="">
        <!-- Add your site image here -->
        <meta property="og:image" content="">
    </head>
    <body>
        <div
            class="flex items-center justify-center py-4 bg-gray-100">
            <!-- Container for three cards in a row -->
            <div
                class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-6 max-w-5xl w-full px-4 md:px-0">
                <!-- Left Card (33%) -->
                {% set cardText = { title:leftPanelTitle, subtitle: leftPanelSubtitle } %}
                {% include "partials/heading-side-card.njk" %}
                <!-- Center Card (33%) -->
                <div class="bg-white border border-gray-300 rounded-lg shadow-lg p-6 w-1/3 max-w-md text-center flex flex-col justify-center
                        h-full">
                    <h1 class="font-heading text-5xl font-semibold text-gray-800">{{ title }}</h1>
                    <h2 class="font-heading text-xl mt-2 text-gray-600">{{ subtitle }}</h2>
                </div>
                <!-- Right Card (33%) -->
                {% set cardText = { title:rightPanelTitle, subtitle: rightPanelSubtitle } %}
                {% include "partials/heading-side-card.njk" %}
            </div>
        </div>
        <main class="content font-body max-w-3xl mx-auto py-6 min-h-screen">
            {{ content | safe }}
            <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-6 py-12">
                <div
                    x-data="{ open: '', marker: { x: 0, y: 0, visible: false } }" class="flex space-x-6">
                    <!-- Sidebar with Key Locations -->
                    {% include "partials/location-sidebar.njk" %}
                    <!-- Map Area with Image and Marker -->
                    <div
                        class="flex-1 relative bg-white border border-gray-300 rounded-lg p-4">
                        <!-- Map Image -->
                        <img
                        src="/images/turtle-island.png" alt="Turtle Island" class="map w-full">
                        <!-- Marker -->
                        <div
                            x-show="marker.visible"
                            x-transition:enter="transition ease-out duration-200"
                            x-transition:enter-start="opacity-0 scale-50"
                            x-transition:enter-end="opacity-100 scale-100"
                            :style="{ left: marker.x + '%', top: marker.y + '%' }"
                            class="absolute bg-red-500 h-4 w-4 rounded-full transform -translate-x-1/2 -translate-y-1/2 border border-black">
                            <!-- Optional: Add pulse effect -->
                            <div class="absolute w-full h-full rounded-full bg-red-500 animate-ping opacity-75"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <!-- Scripts moved inside body -->
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <script src="https://unpkg.com/micromodal@0.4.10/dist/micromodal.min.js"></script>
        <script src="/js/scripts.js"></script>
    </body>
</html>